function BxWallRepost(a){this._sActionsUri=a.sActionUri;this._sActionsUrl=a.sActionUrl;this._sObjName=a.sObjName==undefined?"oWallRepost":a.sObjName;this._iOwnerId=a.iOwnerId==undefined?0:a.iOwnerId;this._sAnimationEffect=a.sAnimationEffect==undefined?"slide":a.sAnimationEffect;this._iAnimationSpeed=a.iAnimationSpeed==undefined?"slow":a.iAnimationSpeed;this._aHtmlIds=a.aHtmlIds==undefined?{}:a.aHtmlIds;this._oRequestParams=a.oRequestParams==undefined?{}:a.oRequestParams}BxWallRepost.prototype.repostItem=function(e,c,h,a,g){var d=this;var b=$.extend(this._getDefaultParams(),{owner_id:c,type:h,action:a,object_id:g});var f=$("#bx-wall-view-loading");if(f){f.bx_loading(true)}jQuery.post(this._sActionsUrl+"repost/",b,function(j){if(f){f.bx_loading(false)}if(j&&j.msg!=undefined&&j.msg.length>0){alert(j.msg)}if(j&&j.counter!=undefined){var i=$(j.counter).attr("id");$("#"+i).replaceWith(j.counter);$("#"+i).parents(".wall-repost-counter-holder:first").bx_anim(j.count>0?"show":"hide")}if(j&&j.disabled){$(e).removeAttr("onclick").addClass($(e).hasClass("bx-btn")?"bx-btn-disabled":"wall-repost-disabled")}},"json")};BxWallRepost.prototype.toggleByPopup=function(c,e){var b=this;var a=this._getDefaultParams();a.id=e;var d=$("#bx-wall-view-loading");if(d){d.bx_loading(true)}jQuery.get(this._sActionsUrl+"get_reposted_by/",a,function(f){if(d){d.bx_loading(false)}$("#"+b._aHtmlIds.by_popup+e).remove();$(f.content).hide().prependTo("body").dolPopup({fog:{color:"#fff",opacity:0.7}})},"json");return false};BxWallRepost.prototype._getDefaultParams=function(){var a=new Date();return $.extend({},this._oRequestParams,{_t:a.getTime()})};
